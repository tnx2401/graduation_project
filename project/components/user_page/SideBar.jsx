"use client";
import React, { useEffect, useState } from "react";
import { useRouter } from "next/navigation";
import { ChartPieIcon } from "@heroicons/react/24/solid";
import {
  ClipboardDocumentCheckIcon,
  PlusCircleIcon,
  UsersIcon,
  UserGroupIcon,
  UserCircleIcon,
  SunIcon,
  CloudIcon,
  MoonIcon,
  ChevronRightIcon,
  ArrowRightStartOnRectangleIcon,
} from "@heroicons/react/24/outline";
import Link from "next/link";
import Image from "next/image";
import { jwtDecode } from "jwt-decode";
import Loading from "@/app/(trang-chu)/loading";
import useStore from "@/lib/zustand";

const SideBar = () => {
  const router = useRouter();
  const { setUid } = useStore();
  const [userInfo, setUserInfo] = useState();
  const [userInfoPanel, setUserInfoPanel] = useState(false);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    const token = localStorage.getItem("authToken");
    if (token) {
      const decoded = jwtDecode(token);
      setUserInfo(decoded);
      setUid(decoded.user_id);
      setIsLoading(false);
    } else {
      router.push("/");
    }
  }, []);

  const navItems = [
    {
      name: "Tổng quan",
      href: "/nguoi-dung",
      icon: <ChartPieIcon className="w-6 h-6" />,
    },
    {
      name: "Tin đăng",
      href: "/nguoi-dung/quan-ly-tin-dang",
      icon: <ClipboardDocumentCheckIcon className="w-6 h-6" />,
    },
    {
      name: "Đăng tin",
      href: "nguoi-dung/dang-tin",
      icon: <PlusCircleIcon className="w-6 h-6" />,
    },
    {
      name: "Khách hàng",
      href: "nguoi-dung/quan-ly-khach-hang",
      icon: <UsersIcon className="w-6 h-6" />,
    },
    {
      name: "Gói hội viên",
      href: "nguoi-dung/hoi-vien",
      icon: <UserGroupIcon className="w-6 h-6" />,
    },
    { name: "Tài Khoản", icon: <UserCircleIcon className="w-6 h-6" /> },
  ];

  const getGreet = () => {
    const time = new Date();
    const hour = time.getHours();

    if (hour > 0 && hour < 12) {
      return (
        <span>
          Chào buổi sáng <SunIcon className="w-5 h-5 inline-block" />
        </span>
      );
    } else if (hour >= 12 && hour < 19) {
      return (
        <span>
          Chào buổi chiều <CloudIcon className="w-5 h-5 inline-block" />
        </span>
      );
    } else {
      return (
        <span>
          Chào buổi tối <MoonIcon className="w-5 h-5 inline-block" />
        </span>
      );
    }
  };

  if (isLoading) {
    return <Loading />;
  }

  return (
    <div className="fixed z-50 top-0 left-0 px-3 pt-5 shadow-2xl h-screen flex flex-col items-center gap-5">
      <Link href={"/"}>
        <svg
          width="50"
          height="50"
          viewBox="0 0 41 40"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          data-automation-id="svg-icon"
          className="svg-icon-wrapper"
          da-id="svg-icon"
        >
          <path
            d="M33.9729 19.8484L32.4857 18.3445L33.9729 16.8421C35.1503 15.6527 35.1503 13.7193 33.9729 12.5299L28.7465 7.2517V4.76109C28.7465 3.90534 28.127 3.17732 27.3052 3.06875C26.8295 3.00489 26.3506 3.15177 25.9903 3.47108C25.8085 3.63233 25.6663 3.82871 25.5699 4.04424L22.4059 0.862333C21.2617 -0.288774 19.4111 -0.287177 18.2669 0.865526L6.69674 12.5331C5.51934 13.7225 5.51934 15.6559 6.69674 16.8453L8.18547 18.3493L7.70345 18.8362L7.26884 19.2753L7.26094 19.2832L6.69674 19.8532C5.51775 21.0442 5.51775 22.9744 6.69674 24.1655L10.9069 28.4155C11.4427 28.9567 12.1475 29.3063 12.903 29.3526C13.7785 29.4053 14.6098 29.086 15.2246 28.465L19.4111 24.2469C19.9263 23.728 20.7607 23.728 21.276 24.2485L25.4419 28.4634C26.0567 29.0828 26.888 29.4037 27.7635 29.351C28.5189 29.3047 29.2254 28.9551 29.7596 28.4139L33.9713 24.1607C35.1503 22.9728 35.1503 21.0378 33.9729 19.8484ZM7.9816 15.5425C7.5138 15.07 7.5138 14.3036 7.9816 13.8294L19.4016 2.29603C19.9168 1.77556 20.7513 1.77556 21.2665 2.29603L32.6865 13.8294C33.1543 14.302 33.1543 15.0684 32.6865 15.5425L31.1993 17.0449L22.4249 8.1745C21.2823 7.0186 19.4285 7.017 18.2827 8.16971L9.4735 17.0481L7.9816 15.5425ZM29.4308 18.8314L28.4557 19.8165C28.2408 20.0336 27.9595 20.1805 27.656 20.1996C27.3068 20.222 26.9749 20.0943 26.7299 19.8468L22.4044 15.4851C21.2601 14.3308 19.4063 14.3308 18.2637 15.4851L13.9381 19.8468C13.7121 20.0751 13.4103 20.2012 13.091 20.2012C12.7702 20.2012 12.4699 20.0751 12.2424 19.8468L10.7584 18.3477L19.4174 9.60819C19.9326 9.08772 20.7686 9.08932 21.2823 9.60979L29.9129 18.3445L29.4308 18.8314ZM32.6865 22.8611L28.4557 27.1334C28.2408 27.3506 27.9595 27.4974 27.656 27.5166C27.3068 27.539 26.9749 27.4112 26.7299 27.1638L22.4044 22.8036C21.2601 21.6509 19.4079 21.6509 18.2653 22.8036L13.9397 27.1638C13.6948 27.4112 13.3629 27.5374 13.0136 27.5166C12.7102 27.4974 12.4289 27.3506 12.2139 27.1334L7.98318 22.8611C7.51538 22.3885 7.51538 21.6222 7.98318 21.148L8.54739 20.578L9.47192 19.6457L10.9085 21.0969C11.4443 21.6381 12.1491 21.9878 12.9046 22.0341C13.7801 22.0868 14.6114 21.7675 15.2262 21.1464L19.4127 16.9251C19.9279 16.4047 20.7639 16.4063 21.2775 16.9267L25.4435 21.1448C26.0583 21.7643 26.8895 22.0852 27.7651 22.0325C28.5205 21.9862 29.227 21.6365 29.7611 21.0953L30.0219 20.8319L31.2009 19.6425L32.688 21.1464C33.1543 21.6206 33.1543 22.3885 32.6865 22.8611Z"
            fill="#E03C31"
          ></path>
          <path
            d="M28.0195 32.0463C28.0195 32.6195 28.481 33.084 29.05 33.084C29.4403 33.084 29.6837 32.8749 29.8101 32.7328C29.8228 32.7184 29.8228 32.6977 29.8085 32.6849L29.5415 32.4215C29.5288 32.4087 29.5067 32.4071 29.4925 32.4215C29.4182 32.4933 29.2823 32.6019 29.05 32.6019C28.7544 32.6019 28.5142 32.3544 28.5142 32.0479C28.5142 31.7414 28.7544 31.4939 29.05 31.4939C29.2823 31.4939 29.4182 31.6025 29.4925 31.6743C29.5067 31.6887 29.5288 31.6871 29.5415 31.6743L29.8085 31.4109C29.8212 31.3981 29.8212 31.3773 29.8101 31.363C29.6853 31.2209 29.4419 31.0117 29.05 31.0117C28.481 31.0085 28.0195 31.4731 28.0195 32.0463Z"
            fill="#E03C31"
          ></path>
          <path
            d="M34.1403 31.4808C34.1561 31.4808 34.1703 31.4696 34.1751 31.4504C34.2225 31.286 34.3837 31.0273 34.7883 31.0273C35.1723 31.0273 35.4773 31.3115 35.4773 31.8176V33.0007C35.4773 33.0198 35.4615 33.0358 35.4426 33.0358H35.0048C34.9858 33.0358 34.97 33.0198 34.97 33.0007V31.9406C34.97 31.6308 34.8246 31.4824 34.5812 31.4824C34.3458 31.4824 34.1798 31.642 34.1798 31.9406V33.0007C34.1798 33.0198 34.164 33.0358 34.1451 33.0358H33.7073C33.6883 33.0358 33.6725 33.0198 33.6725 33.0007V31.9406C33.6725 31.6308 33.5271 31.4824 33.2837 31.4824C33.0483 31.4824 32.8823 31.642 32.8823 31.9406V33.0007C32.8823 33.0198 32.8665 33.0358 32.8475 33.0358H32.4098C32.3908 33.0358 32.375 33.0198 32.375 33.0007V31.0944C32.375 31.0752 32.3908 31.0593 32.4098 31.0593H32.8128C32.8317 31.0593 32.8475 31.0752 32.8475 31.0944C32.8475 31.0944 32.8475 31.2972 32.8475 31.4456C32.8475 31.4648 32.8633 31.4808 32.8823 31.4808C32.9013 31.4808 32.9123 31.4696 32.9171 31.4504C32.9645 31.286 33.1241 31.0273 33.5018 31.0273C33.78 31.0273 34.006 31.179 34.1087 31.4584C34.1134 31.4728 34.1277 31.4808 34.1403 31.4808Z"
            fill="#E03C31"
          ></path>
          <path
            d="M31.0343 31.0078C30.4654 31.0078 30.0039 31.4724 30.0039 32.0456C30.0039 32.6187 30.4654 33.0833 31.0343 33.0833C31.6033 33.0833 32.0648 32.6187 32.0648 32.0456C32.0648 31.4724 31.6033 31.0078 31.0343 31.0078ZM31.0343 32.5996C30.7388 32.5996 30.4986 32.3521 30.4986 32.0456C30.4986 31.739 30.7388 31.4916 31.0343 31.4916C31.3299 31.4916 31.5701 31.739 31.5701 32.0456C31.5701 32.3521 31.3299 32.5996 31.0343 32.5996Z"
            fill="#E03C31"
          ></path>
          <path
            d="M27.4903 33.0814C27.664 33.0814 27.8048 32.9399 27.8048 32.7653C27.8048 32.5907 27.664 32.4492 27.4903 32.4492C27.3166 32.4492 27.1758 32.5907 27.1758 32.7653C27.1758 32.9399 27.3166 33.0814 27.4903 33.0814Z"
            fill="#E03C31"
          ></path>
          <path
            d="M36.1778 33.0814C36.3515 33.0814 36.4923 32.9399 36.4923 32.7653C36.4923 32.5907 36.3515 32.4492 36.1778 32.4492C36.0041 32.4492 35.8633 32.5907 35.8633 32.7653C35.8633 32.9399 36.0041 33.0814 36.1778 33.0814Z"
            fill="#E03C31"
          ></path>
          <path
            d="M37.2732 32.4508C37.2558 32.4508 37.2431 32.438 37.24 32.4252C37.1957 32.2512 37.1136 32.0149 37.0646 31.876C36.9713 31.6078 36.788 31.0809 36.788 31.0809C36.7832 31.0682 36.7706 31.0586 36.7564 31.0586H36.2965C36.2775 31.0586 36.2617 31.0746 36.2617 31.0937C36.2617 31.0985 36.2633 31.1017 36.2633 31.1065L37.0156 33.0144C37.0203 33.0271 37.033 33.0351 37.0472 33.0351H37.4992C37.5134 33.0351 37.526 33.0271 37.5308 33.0144L38.2831 31.1065C38.2846 31.1033 38.2846 31.0985 38.2846 31.0937C38.2846 31.0746 38.2688 31.0586 38.2499 31.0586H37.79C37.7757 31.0586 37.7631 31.0682 37.7584 31.0809C37.7584 31.0809 37.575 31.6078 37.4818 31.876C37.4328 32.0149 37.3506 32.2512 37.3064 32.4252C37.3032 32.438 37.2906 32.4508 37.2732 32.4508Z"
            fill="#E03C31"
          ></path>
          <path
            d="M39.6589 31.0273C40.0429 31.0273 40.3322 31.3115 40.3322 31.8176V33.0007C40.3322 33.0198 40.3164 33.0358 40.2974 33.0358H39.8596C39.8407 33.0358 39.8249 33.0198 39.8249 33.0007V31.9406C39.8249 31.6308 39.6889 31.4824 39.4377 31.4824C39.199 31.4824 39.0347 31.642 39.0347 31.9406V33.0007C39.0347 33.0198 39.0188 33.0358 38.9999 33.0358H38.5621C38.5431 33.0358 38.5273 33.0198 38.5273 33.0007V31.0944C38.5273 31.0752 38.5431 31.0593 38.5621 31.0593H38.9651C38.9841 31.0593 38.9999 31.0752 38.9999 31.0944C38.9999 31.0944 38.9999 31.2972 38.9999 31.4456C38.9999 31.4648 39.0157 31.4808 39.0347 31.4808C39.0536 31.4808 39.0647 31.4696 39.0694 31.4504C39.1153 31.286 39.2638 31.0273 39.6589 31.0273Z"
            fill="#E03C31"
          ></path>
          <path
            d="M3.38063 35.5992C3.70935 35.3342 3.92113 34.9334 3.92113 34.48C3.92113 33.6818 3.28106 33.0352 2.46716 33.0352H0.586476C0.44582 33.0352 0.332031 33.1501 0.332031 33.2922V38.0563C0.332031 38.1984 0.44582 38.3133 0.586476 38.3133H2.69157C3.50548 38.3133 4.14554 37.6667 4.14554 36.8685C4.14712 36.3161 3.83737 35.8419 3.38063 35.5992ZM1.27079 34.0282C1.27079 33.958 1.32769 33.9005 1.39722 33.9005H2.27751C2.67577 33.9005 2.98079 34.2086 2.98079 34.5902C2.98079 34.9718 2.67577 35.2799 2.27751 35.2799H1.39722C1.32769 35.2799 1.27079 35.2224 1.27079 35.1522V34.0282ZM2.50509 37.4464H1.3988C1.32927 37.4464 1.27237 37.3889 1.27237 37.3187V36.1963C1.27237 36.1261 1.32927 36.0686 1.3988 36.0686H2.50509C2.90335 36.0686 3.20836 36.3767 3.20836 36.7583C3.20836 37.1383 2.90335 37.4464 2.50509 37.4464Z"
            fill="#E03C31"
          ></path>
          <path
            d="M10.3059 35.5192C10.3059 35.4841 10.3344 35.4554 10.3692 35.4554H11.1214C11.1562 35.4554 11.1847 35.4266 11.1847 35.3915V34.7066C11.1847 34.6715 11.1562 34.6427 11.1214 34.6427H10.2822C10.2475 34.6427 10.219 34.614 10.219 34.5789V33.7279C10.219 33.6928 10.1906 33.6641 10.1558 33.6641H9.4304C9.39563 33.6641 9.36719 33.6928 9.36719 33.7279V37.1988C9.36719 38.0945 9.79864 38.4042 10.3597 38.4042C10.7169 38.4042 10.9302 38.294 11.0187 38.2509C11.0456 38.2382 11.0598 38.2158 11.0598 38.1839L11.0582 37.6283C11.0582 37.5852 11.0187 37.55 10.9666 37.5692C10.8528 37.6123 10.7564 37.641 10.6394 37.641C10.4719 37.641 10.3059 37.5612 10.3059 37.2483V35.5192Z"
            fill="#E03C31"
          ></path>
          <path
            d="M8.49245 34.6414H7.74808C7.71332 34.6414 7.68487 34.6702 7.68487 34.7053V35.2306C7.68487 35.2657 7.65642 35.2944 7.62165 35.2944C7.60269 35.2944 7.5774 35.2864 7.56318 35.2561C7.48732 35.1012 7.1665 34.5664 6.37946 34.5664C5.44386 34.5664 4.67578 35.3918 4.67578 36.4775C4.67578 37.5631 5.44228 38.3885 6.37946 38.3885C7.16808 38.3885 7.4889 37.8537 7.56318 37.6988C7.5774 37.6685 7.60269 37.6605 7.62165 37.6605C7.65642 37.6605 7.68487 37.6892 7.68487 37.7244V38.2496C7.68487 38.2848 7.71332 38.3135 7.74808 38.3135H8.49245C8.52722 38.3135 8.55567 38.2848 8.55567 38.2496V34.7085C8.55567 34.6702 8.5288 34.6414 8.49245 34.6414ZM6.60703 37.504C6.05863 37.504 5.61454 37.0442 5.61454 36.4759C5.61454 35.9075 6.05863 35.4477 6.60703 35.4477C7.15543 35.4477 7.59953 35.9075 7.59953 36.4759C7.59953 37.0442 7.15543 37.504 6.60703 37.504Z"
            fill="#E03C31"
          ></path>
          <path
            d="M14.4687 35.2591C14.3154 34.951 13.9392 34.5646 13.2818 34.5646C12.3462 34.5646 11.5781 35.3901 11.5781 36.4757C11.5781 37.5614 12.3446 38.3868 13.2818 38.3868C14.0688 38.3868 14.3912 37.8519 14.4655 37.6971C14.4797 37.6667 14.505 37.6587 14.524 37.6587C14.5588 37.6587 14.5872 37.6875 14.5872 37.7226V38.2479C14.5872 38.283 14.6157 38.3117 14.6504 38.3117H15.3948C15.4296 38.3117 15.458 38.283 15.458 38.2479V33.099C15.458 33.0639 15.4296 33.0352 15.3948 33.0352H14.5825C14.5477 33.0352 14.5193 33.0639 14.5193 33.099V33.3449C14.5193 34.5982 14.5888 35.1697 14.5872 35.2336C14.5872 35.2687 14.5603 35.2975 14.5224 35.2975C14.5161 35.2959 14.4845 35.2911 14.4687 35.2591ZM13.511 35.4475C14.0594 35.4475 14.5035 35.9073 14.5035 36.4757C14.5035 37.0441 14.0594 37.5039 13.511 37.5039C12.9626 37.5039 12.5185 37.0441 12.5185 36.4757C12.5185 35.9073 12.9626 35.4475 13.511 35.4475Z"
            fill="#E03C31"
          ></path>
          <path
            d="M22.5175 34.582C23.2287 34.582 23.7628 35.1089 23.7628 36.0493V38.2477C23.7628 38.2828 23.7344 38.3116 23.6996 38.3116H22.8873C22.8525 38.3116 22.8241 38.2828 22.8241 38.2477V36.2792C22.8241 35.7044 22.5712 35.4282 22.1082 35.4282C21.6657 35.4282 21.3606 35.7252 21.3606 36.2792V38.2477C21.3606 38.2828 21.3322 38.3116 21.2974 38.3116H20.4851C20.4503 38.3116 20.4219 38.2828 20.4219 38.2477V34.7066C20.4219 34.6714 20.4503 34.6427 20.4851 34.6427H21.231C21.2658 34.6427 21.2943 34.6714 21.2943 34.7066C21.2943 34.7066 21.2943 35.0833 21.2943 35.3595C21.2943 35.3947 21.3227 35.4234 21.3575 35.4234C21.3922 35.4234 21.4128 35.4011 21.4238 35.3675C21.5124 35.061 21.7873 34.582 22.5175 34.582Z"
            fill="#E03C31"
          ></path>
          <path
            d="M27.3489 37.9399C27.3489 38.7462 26.8653 39.1692 26.1478 39.1692C25.6168 39.1692 25.3039 38.9521 25.1806 38.8771C25.149 38.8579 25.1111 38.8691 25.0921 38.8978L24.7207 39.4885C24.7018 39.5173 24.7112 39.5556 24.7381 39.5764C24.9609 39.736 25.4777 40.001 26.1968 40.001C27.2415 40.001 28.2197 39.3896 28.2197 37.9048V34.7053C28.2197 34.6702 28.1913 34.6414 28.1565 34.6414H27.4121C27.3774 34.6414 27.3489 34.6702 27.3489 34.7053V35.2306C27.3489 35.2657 27.3205 35.2944 27.2857 35.2944C27.2667 35.2944 27.2415 35.2864 27.2272 35.2561C27.1514 35.1012 26.8306 34.5664 26.0435 34.5664C25.1079 34.5664 24.3398 35.3918 24.3398 36.4775C24.3398 37.5631 25.1063 38.3023 26.0435 38.3023C26.7658 38.3023 27.153 37.8521 27.2272 37.6988C27.2415 37.6685 27.2667 37.6605 27.2857 37.6605C27.3205 37.6605 27.3489 37.6892 27.3489 37.7244V37.9399ZM26.2711 37.504C25.7227 37.504 25.2786 37.0442 25.2786 36.4759C25.2786 35.9075 25.7227 35.4477 26.2711 35.4477C26.8195 35.4477 27.2636 35.9075 27.2636 36.4759C27.2652 37.0442 26.8195 37.504 26.2711 37.504Z"
            fill="#E03C31"
          ></path>
          <path
            d="M39.0878 34.582C39.799 34.582 40.3332 35.1089 40.3332 36.0493V38.2477C40.3332 38.2828 40.3047 38.3116 40.2699 38.3116H39.4576C39.4228 38.3116 39.3944 38.2828 39.3944 38.2477V36.2792C39.3944 35.7044 39.1415 35.4282 38.6785 35.4282C38.236 35.4282 37.9309 35.7252 37.9309 36.2792V38.2477C37.9309 38.2828 37.9025 38.3116 37.8677 38.3116H37.0554C37.0206 38.3116 36.9922 38.2828 36.9922 38.2477V34.7066C36.9922 34.6714 37.0206 34.6427 37.0554 34.6427H37.8014C37.8361 34.6427 37.8646 34.6714 37.8646 34.7066C37.8646 34.7066 37.8646 35.0833 37.8646 35.3595C37.8646 35.3947 37.893 35.4234 37.9278 35.4234C37.9626 35.4234 37.9831 35.4011 37.9942 35.3675C38.0811 35.061 38.3561 34.582 39.0878 34.582Z"
            fill="#E03C31"
          ></path>
          <path
            d="M36.1175 34.6414H35.3731C35.3383 34.6414 35.3099 34.6702 35.3099 34.7053V35.2306C35.3099 35.2657 35.2814 35.2944 35.2467 35.2944C35.2277 35.2944 35.2024 35.2864 35.1882 35.2561C35.1123 35.1012 34.7915 34.5664 34.0045 34.5664C33.0689 34.5664 32.3008 35.3918 32.3008 36.4775C32.3008 37.5631 33.0673 38.3885 34.0045 38.3885C34.7931 38.3885 35.1139 37.8537 35.1882 37.6988C35.2024 37.6685 35.2277 37.6605 35.2467 37.6605C35.2814 37.6605 35.3099 37.6892 35.3099 37.7244V38.2496C35.3099 38.2848 35.3383 38.3135 35.3731 38.3135H36.1175C36.1522 38.3135 36.1807 38.2848 36.1807 38.2496V34.7085C36.1807 34.6702 36.1522 34.6414 36.1175 34.6414ZM34.232 37.504C33.6836 37.504 33.2395 37.0442 33.2395 36.4759C33.2395 35.9075 33.6836 35.4477 34.232 35.4477C34.7804 35.4477 35.2245 35.9075 35.2245 36.4759C35.2245 37.0442 34.7804 37.504 34.232 37.504Z"
            fill="#E03C31"
          ></path>
          <path
            d="M30.5761 36.1081C30.2221 36.0378 29.8285 35.9835 29.8285 35.6291C29.8285 35.3864 30.0798 35.2284 30.4259 35.2284C30.7863 35.2284 31.0929 35.4215 31.2572 35.57C31.2825 35.5924 31.3283 35.5828 31.3457 35.5557L31.6982 34.9793C31.7124 34.9538 31.7124 34.9186 31.6855 34.8963C31.3726 34.6265 30.8574 34.4844 30.3833 34.4844C29.3892 34.4844 28.8898 35.0767 28.8898 35.6594C28.8898 36.3651 29.4398 36.6349 30.0371 36.7658C30.4718 36.8616 30.919 36.951 30.919 37.264C30.919 37.4954 30.7041 37.6807 30.2521 37.6807C29.8349 37.6807 29.4413 37.43 29.2675 37.3023C29.2359 37.2783 29.1995 37.2847 29.1774 37.315L28.8013 37.9121C28.7886 37.9361 28.7886 37.9696 28.8139 37.992C29.0541 38.2139 29.6199 38.4725 30.2805 38.4725C31.2446 38.4725 31.8594 37.9345 31.8594 37.2624C31.8609 36.4641 31.1782 36.2262 30.5761 36.1081Z"
            fill="#E03C31"
          ></path>
          <path
            d="M17.9427 34.5508C16.8902 34.5508 16.0352 35.4129 16.0352 36.4778C16.0352 37.5411 16.8886 38.4048 17.9427 38.4048C18.9953 38.4048 19.8502 37.5427 19.8502 36.4778C19.8502 35.4145 18.9968 34.5508 17.9427 34.5508ZM17.9427 37.506C17.3943 37.506 16.9502 37.0462 16.9502 36.4778C16.9502 35.9094 17.3943 35.4496 17.9427 35.4496C18.4911 35.4496 18.9352 35.9094 18.9352 36.4778C18.9368 37.0462 18.4911 37.506 17.9427 37.506Z"
            fill="#E03C31"
          ></path>
        </svg>
      </Link>

      <div className="flex flex-col gap-10 mt-10 flex-grow">
        {navItems.map((item, index) =>
          item.href ? (
            <Link
              href={item.href}
              key={index}
              className="flex flex-col items-center gap-2"
            >
              {item.icon}
              <h1 className="text-xs">{item.name}</h1>
            </Link>
          ) : (
            <div key={index} className="flex flex-col items-center">
              {item.icon}
              <h1 className="text-xs">{item.name}</h1>
            </div>
          )
        )}
      </div>

      <div className="pb-5 relative">
        <Image
          src={userInfo.picture}
          width={50}
          height={50}
          className="rounded-full cursor-pointer"
          onClick={() => setUserInfoPanel((prev) => !prev)}
          alt="profile-picture"
        />
        {userInfoPanel && (
          <div className="absolute -top-28 left-24 w-[26rem] bg-white shadow-xl border rounded-lg">
            <div className="flex p-5 gap-5 border-b items-center">
              <Image
                src={userInfo.picture}
                width={70}
                height={70}
                className="rounded-full cursor-pointer"
                alt="profile-picture"
              />
              <div className="flex flex-col flex-grow">
                {getGreet()}
                <h1 className="text-xl truncate max-w-[200px] overflow-hidden whitespace-nowrap">
                  {userInfo.name}
                </h1>
              </div>
              <ChevronRightIcon className="w-6 h-6" />
            </div>
            <div className="flex gap-3 p-3 cursor-pointer text-gray-500 hover:text-black">
              <ArrowRightStartOnRectangleIcon className="w-6 h-6" />
              <h1>Đăng xuất</h1>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default SideBar;
